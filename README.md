# Couple Gate - 국제 연애·결혼 매칭 플랫폼

## 📌 프로젝트 개요
- **이름**: Couple Gate (커플게이트)
- **목표**: 40대·50대·60대 싱글·돌싱을 위한 글로벌 국제 연애·결혼 매칭 플랫폼
- **주요 특징**: 
  - 6개 언어 완벽 지원 (한국어, 영어, 중국어, 일본어, 베트남어, 아랍어)
  - AI 자동응답 챗봇 (19개 FAQ)
  - 신분증 인증 시스템
  - 로맨스 스캠 방지 안전정책

## 🌐 배포 URL
- **프로덕션**: https://jtbit.me
- **Cloudflare Pages**: https://jtbit.pages.dev
- **GitHub**: https://github.com/jtree1224/jtbit

## 🗄️ 데이터 아키텍처
- **데이터 모델**: 
  - 프로필 (이름, 나이, 성별, 국가, 자기소개, 관심사)
  - 신분증 인증 사진
  - 공지사항
- **스토리지 서비스**: Cloudflare Workers (메모리 기반)
- **데이터 흐름**: 
  - 프론트엔드 → Hono API → 메모리 저장소
  - 챗봇: 정적 FAQ 데이터 (6개 언어)

## 🌍 다국어 지원 (완벽 구현)

### 지원 언어
1. **한국어 (ko)** - 기본 언어
2. **영어 (en)** - English
3. **중국어 (zh)** - 简体中文
4. **일본어 (ja)** - 日本語
5. **베트남어 (vi)** - Tiếng Việt
6. **아랍어 (ar)** - العربية (RTL 레이아웃)

### 번역 적용 범위
✅ **헤더**
- Couple Gate 제목
- 부제목 (국경을 넘어 사랑을 연결하는...)
- 타겟 오디언스 (40대·50대·60대...)
- 공지사항 버튼

✅ **탭 버튼**
- 프로필 등록 / Register / 注册资料 / プロフィール登録 / Đăng ký / تسجيل
- 프로필 찾기 / Search / 查找资料 / プロフィール検索 / Tìm kiếm / بحث
- 통계 / Statistics / 统计 / 統計 / Thống kê / إحصائيات

✅ **프로필 등록 폼**
- 모든 입력 레이블 (이름, 나이, 성별, 국가, 자기소개, 관심사)
- 신분증 인증 사진 업로드 섹션
- 촬영 방법 안내 (4가지 지침)
- 안전정책 전체 내용
- VIP/일반 회원 요구사항
- 등록 버튼

✅ **AI 챗봇**
- 챗봇 제목/부제목
- 19개 FAQ 질문 및 답변 (전체 언어)
- 뒤로가기 버튼

### 언어 변경 로직
```javascript
// 페이지 로드 시 초기 언어 자동 적용
document.addEventListener('DOMContentLoaded', function() {
  const initialLang = document.getElementById('language-selector').value || 'ko';
  applyLanguage(initialLang);
});

// 언어 선택 시 실시간 적용
document.getElementById('language-selector').addEventListener('change', function() {
  applyLanguage(this.value);
});
```

## 🤖 AI 자동응답 챗봇

### 주요 기능
- 💬 19개 FAQ 자동 응답
- 🌐 6개 언어 완벽 지원
- 📱 반응형 디자인
- 🎨 크기 최적화 (글자 20% 축소, 간격 조정)

### FAQ 카테고리
1. **플랫폼 소개** (CoupleGate란?, 주요 사용자)
2. **회원 가입** (가입 방법, SNS 인증, 신분증 인증)
3. **기능 안내** (AI 번역, AI 프로필 생성, 문화 차이 코칭)
4. **멤버십** (무료/유료 차이, 결제/환불)
5. **보안** (SNS 인증 실패 원인 및 해결)

### 챗봇 크기
- **데스크톱**: 608px × 800px (기존 대비 20% 축소)
- **모바일**: 360px × 520px
- **버튼**: 96px × 96px (기존 120px에서 축소)

## 🔒 안전정책

### VIP 회원가입 필수 사항
- 여권, 운전면허증, 주민등록증 등 본인 신분증을 손에 들고 얼굴과 함께 촬영한 사진 업로드
- 본인 확인 절차, 제출 정보는 안전하게 보호됨

### 일반 회원가입 필수 사항
- 기존 SNS 계정 3개 이상 등록 필수
- Facebook, Instagram, Kakao, X, Naver, Google, WeChat

### 촬영 방법 안내
1. 신분증(여권, 운전면허증, 주민등록증)을 손에 들기
2. 얼굴과 신분증이 함께 보이도록 셀카 촬영
3. 신분증의 사진과 정보가 선명하게 보이도록 촬영
4. 밝은 곳에서 촬영

## 📊 완료된 기능

### ✅ 다국어 시스템
- [x] 6개 언어 번역 완료
- [x] 페이지 로드 시 초기 언어 자동 적용
- [x] 언어 선택기 실시간 변경
- [x] 아랍어 RTL 레이아웃 자동 적용
- [x] 모든 UI 요소 번역 적용 (헤더, 탭, 폼, 챗봇)
- [x] HTML 콘텐츠 innerHTML 지원

### ✅ AI 챗봇
- [x] 19개 FAQ 질문 및 답변
- [x] 6개 언어 완벽 지원
- [x] 클릭 오류 수정 (DOM 로드 완료 후 초기화)
- [x] 챗봇 크기 최적화 (20% 축소)
- [x] 반응형 디자인
- [x] 언어 변경 시 챗봇 FAQ 자동 업데이트

### ✅ 프로필 등록
- [x] 신분증 사진 업로드 기능
- [x] 사진 미리보기
- [x] 안전정책 안내 (6개 언어)
- [x] VIP/일반 회원 구분
- [x] 크기 최적화 (글자 20% 축소, 간격 조정)

### ✅ JavaScript 오류 해결
- [x] `Unexpected identifier 's'` 오류 수정
- [x] `currentChatbotLang is not defined` 오류 수정
- [x] 템플릿 리터럴 이스케이프 문제 해결
- [x] HTML 문자열 내 작은따옴표 처리 (`driver&apos;s`)

## 🚀 배포 현황
- **플랫폼**: Cloudflare Pages
- **상태**: ✅ 활성
- **기술 스택**: Hono + TypeScript + TailwindCSS
- **마지막 업데이트**: 2025-11-29

## 📝 사용자 가이드

### 프로필 등록 방법
1. 상단 언어 선택기에서 원하는 언어 선택
2. "프로필 등록" 탭 클릭
3. 이름, 나이, 성별, 국가 등 기본 정보 입력
4. 자기소개 및 관심사 작성
5. **중요**: 신분증을 손에 들고 얼굴과 함께 촬영한 사진 업로드
6. "등록" 버튼 클릭

### 챗봇 사용 방법
1. 우측 하단 보라색 AI 챗봇 버튼 클릭
2. 자주 묻는 질문 목록에서 원하는 질문 선택
3. 답변 확인 후 "질문 목록으로" 버튼으로 돌아가기
4. 언어 변경 시 챗봇도 자동으로 해당 언어로 변경됨

### 언어 변경 방법
1. 상단 우측 언어 선택기 클릭
2. 원하는 언어 선택 (한국어, English, 简体中文, 日本語, Tiếng Việt, العربية)
3. 모든 UI 요소가 자동으로 변경됨

## 🔧 개발 정보

### 로컬 개발
```bash
# 의존성 설치
npm install

# 빌드
npm run build

# 로컬 개발 서버 (PM2)
fuser -k 3000/tcp 2>/dev/null || true
pm2 start ecosystem.config.cjs

# 테스트
curl http://localhost:3000
```

### 배포
```bash
# Cloudflare Pages 배포
npm run build
npx wrangler pages deploy dist --project-name jtbit
```

### Git 관리
```bash
# 상태 확인
git status

# 커밋
git add .
git commit -m "메시지"

# GitHub 푸시
git push origin main
```

## 🎯 다음 개발 단계

### 미구현 기능
- [ ] 프로필 검색 기능 구현
- [ ] 통계 페이지 구현
- [ ] 공지사항 CRUD 완성
- [ ] 실제 데이터베이스 연동 (Cloudflare D1)
- [ ] 사용자 인증 시스템
- [ ] 실시간 매칭 알고리즘

### 추천 개선 사항
- [ ] Tailwind CSS PostCSS 플러그인으로 변경 (CDN 경고 제거)
- [ ] 이미지 최적화
- [ ] SEO 최적화
- [ ] PWA 지원
- [ ] 성능 모니터링

## 📦 백업 정보

### 최신 백업 (v1.1)
- **백업 URL**: https://www.genspark.ai/api/files/s/RzbXZGPP
- **백업 이름**: 신분증_자동응답봇_표시까지_완결
- **백업 크기**: 1.3 MB
- **백업 날짜**: 2025-11-29
- **설명**: 신분증 예시 SVG 플레이스홀더로 교체, 6개 언어 완벽 지원, AI 챗봇 19개 FAQ, 모든 JavaScript 오류 해결 완료

### 이전 백업 (v1.0)
- **백업 URL**: https://www.genspark.ai/api/files/s/jc9vTX13
- **백업 이름**: 다국어_자동응답봇_해결
- **백업 날짜**: 2025-11-29
- **설명**: 언어 변경 로직 완전 수정 - 6개 언어 지원, 챗봇 오류 해결, 신분증 업로드 및 안전정책 추가

## 📞 문의
- **플랫폼**: https://jtbit.me
- **GitHub**: https://github.com/jtree1224/jtbit

## 🎯 주요 개선 사항 (v1.1)

### 신분증 예시 이미지 문제 해결
- **문제**: 외부 이미지 URL 403 Forbidden 오류
- **해결**: SVG 아이콘 기반 플레이스홀더로 교체
- **장점**:
  - ✅ 외부 의존성 제거
  - ✅ 항상 정상 작동 (403/404 오류 없음)
  - ✅ 빠른 로딩 (인라인 SVG)
  - ✅ 반응형 디자인
  - ✅ 핑크-퍼플 그라데이션 배경
  - ✅ ID 카드 SVG 아이콘 (20x20)
  - ✅ 명확한 안내 텍스트

---

**Last Updated**: 2025-11-29
**Version**: 1.1.0 (신분증·자동응답봇 표시까지 완결)
